<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retrospective Board</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="icon-container">
        <a href="/" class="icon-link">
            <img src="{{ url_for('static', filename='images/home.PNG') }}" alt="Home" class="button-icon">
        </a>
        <h2>Sprint Retrospective Board</h2>
        <a href="javascript:void(0);" onclick="exportToPDF()" class="icon-link">
            <img src="{{ url_for('static', filename='images/pdf.PNG') }}" alt="Export to PDF" class="button-icon">
        </a>
    </div>
    <div class="board-description">  
        <h2>The 4-step Retrospective</h2>
        <p>This retrospective board is divided into four sections, each representing a different area of focus:</p>
        <ul>
            <li><strong>Let's appreciate others:</strong> Acknowledge the hard work and achievements of your teammates.</li>
            <li><strong>What went well?:</strong> Discuss what worked well during the last sprint and why.</li>
            <li><strong>What can we do better?:</strong> Identify any challenges faced and how they can be improved.</li>
            <li><strong>Actions for next sprint:</strong> Decide on actionable items that the team agrees to implement in the next sprint.</li>
        </ul>
        <p>Click on a section to add a sticky note with your comments. You can drag and position the sticky notes anywhere within the section.</p>
    </div>

    <!-- The retro-board div follows here -->
    <div class="retro-board" id = "board-4step">
        <div id="pdf-header" style="display: none;">
            <h1>Sprint Retrospective Board</h1>
            <p>Page URL: <span id="page-url"></span></p>
          </div>
          
        <div class="retro-section" id="appreciate">
            <h2>Let's appreciate others</h2>
            <div class="add-note" onclick="addStickyNoteToSection('appreciate')">+</div>
            <div class="sticky-notes-container"></div>
        </div>
        <div class="retro-section" id="went-well">
            <h2>What went well?</h2>
            <div class="add-note" onclick="addStickyNoteToSection('went-well')">+</div>
            <div class="sticky-notes-container"></div>
        </div>
        <div class="retro-section" id="do-better">
            <h2>What can we do better?</h2>
            <div class="add-note" onclick="addStickyNoteToSection('do-better')">+</div>
            <div class="sticky-notes-container"></div>
        </div>
        <div class="retro-section" id="next-actions">
            <h2>Actions for next sprint</h2>
            <div class="add-note" onclick="addStickyNoteToSection('next-actions')">+</div>
            <div class="sticky-notes-container"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
    <script type="text/javascript">
        var boardId = "{{ board_id }}";
    </script>
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</body>
</html>
